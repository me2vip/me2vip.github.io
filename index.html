<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>ÈÇ£ÊòØ‰ªÄ‰πàÔºü</title>
    <style>
        :root {
            --star-count: 200;
            --glow-color: rgba(255, 255, 255, 0.2);
            --gradient-angle: 45deg;
        }

        #data-panel {
            position: fixed;
            left: -260px;
            top: 0;
            width: 260px;
            height: 100vh;
            /*background: rgba(0,0,0,0.9);*/
            backdrop-filter: blur(12px);
            padding: 20px;
            overflow-y: auto;
            z-index: 1000;
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 1px 0 5px rgba(0, 0, 0, 0.4);
        }

        #data-panel.active {
            transform: translateX(260px);
        }

        .data-item {
            padding: 16px;
            margin: 12px 0;
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.08), transparent);
            border-radius: 8px;
            color: #fff;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .data-item::after {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, #3498db, #9b59b6);
            opacity: 0;
            transition: opacity 0.3s;
            z-index: -1;
        }

        .data-item:hover {
            transform: translateX(15px);
        }

        .data-item.active {
            box-shadow: 0 0 20px rgba(52, 152, 219, 0.3);
        }

        .data-item.active::after {
            opacity: 0.3;
        }

        body {
            margin: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-family: 'Microsoft Yahei', sans-serif;
            position: relative;
            overflow-x: hidden;
            padding-left: 20px;
            transition: padding-left 0.3s;
        }

        body::before {
            content: '';
            position: fixed;
            width: 200vw;
            height: 200vh;
            background: radial-gradient(circle at 50% 50%,
            rgba(255, 255, 255, 0.1) 0%,
            transparent 60%);
            animation: gradientMove 20s linear infinite;
            pointer-events: none;
        }

        @keyframes gradientMove {
            0% {
                transform: translate(-50%, -50%);
            }
            100% {
                transform: translate(50%, 50%);
            }
        }

        #container {
            padding-left: 330px;
            margin: 20px auto 0 auto;
            width: 80%;
            max-width: 1000px;
            /*padding: 20px;*/
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            position: relative;
            z-index: 1;
        }

        #control-panel {
            position: fixed;
            bottom: 30px;
            display: flex;
            gap: 15px;
            z-index: 2;
        }

        button {
            padding: 12px 25px;
            font-size: 16px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            backdrop-filter: blur(8px);
            box-shadow: 0 2px 15px var(--glow-color);
        }

        .word-item {
            opacity: 0;
            transform: translateY(20px) scale(0.95);
            animation: wordAppear 0.8s forwards;
            filter: blur(1px);
            text-shadow: 0 0 8px currentColor;
            cursor: pointer;
            transition: 0.3s all;
        }

        @keyframes wordAppear {
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .line-break {
            width: 100%;
            height: 0;
        }
    </style>
</head>
<body>
<div id="data-panel" class="active"></div>
<div id="quantum-field"></div>
<div id="container"></div>
<div id="control-panel">
    <button id="startBtn">‚ñ∂Ô∏è ÂºÄÂßã</button>
    <button id="stopBtn">‚èπÔ∏è ÂÅúÊ≠¢</button>
    <button id="musicBtn">üéµ</button>
</div>

<audio id="bgm" loop>
    <source src="/musics/Êó∂Èó¥ÊòØ‰∏™Â∞èÂÅ∑-Âº†Èí∞Âûö.mp3" type="audio/mpeg">
</audio>

<script>
    const staticData = [
        {
            title: "Ê¢¶Â¢É",
            music: "/musics/Êó∂Èó¥ÊòØ‰∏™Â∞èÂÅ∑-Âº†Èí∞Âûö.mp3",
            words: [
                ["##", 0, 0, "transparent", "transparent", false],
                ["Ê¢¶‰∏≠", 500, 800, "#70a1ff", "rgba(112, 161, 255, 0.1)", true],
                ["ÊòØ", 300, 500, "#ffd700", "rgba(255, 215, 0, 0.1)", true],
                ["ËøôÊ†∑ÁöÑÔºå", 300, 1000, "#95a5a6", "transparent", false],
                ["##", 0, 0, "transparent", "transparent", false],

                ["Êúâ", 200, 400, "#dcdde1", "transparent", true],
                ["‰∏Ä‰∏™‰∫∫", 300, 800, "#3498db", "rgba(52, 152, 219, 0.1)", true],
                ["Áúã‰∫Ü", 200, 400, "#7f8c8d", "transparent", true],
                ["Êàë", 0, 500, "#ff6b6b", "rgba(255, 107, 107, 0.1)", true],
                ["Â•Ω‰πÖ", 300, 1200, "#2ecc71", "rgba(46, 204, 113, 0.1)", true],
                ["Ôºå", 0, 0, "#95a5a6", "transparent", false],
                ["##", 0, 0, "transparent", "transparent", false],

                ["Â•π", 500, 600, "#e67e22", "rgba(230, 126, 34, 0.1)", true],
                ["ÈóÆ", 200, 400, "#9b59b6", "rgba(155, 89, 182, 0.1)", true],
                ["ÊàëÔºö", 300, 800, "#2c3e50", "rgba(44, 62, 80, 0.1)", true],
                ["##", 0, 0, "transparent", "transparent", false],
                ["„Äå", 0, 0, "#7f8c8d", "transparent", false],
                ["‰∏∫‰ªÄ‰πà", 500, 800, "#ff4757", "rgba(255, 71, 87, 0.1)", true],
                ["Ë¶Å", 200, 300, "#2ecc71", "rgba(46, 204, 113, 0.1)", true],
                ["Ëøô‰πàÂÅöÔºü", 0, 1500, "#ff4757", "rgba(255, 71, 87, 0.2)", true],
                ["##", 0, 0, "transparent", "transparent", false],
                ["‰∏∫‰ªÄ‰πà", 300, 600, "#ff4757", "rgba(255, 71, 87, 0.1)", true],
                ["‰∏çÊää", 200, 400, "#3498db", "rgba(52, 152, 219, 0.1)", true],
                ["ÊâÄÊúâÁöÑ", 300, 500, "#9b59b6", "rgba(155, 89, 182, 0.1)", true],
                ["‰∏úË•ø", 0, 800, "#2ecc71", "rgba(46, 204, 113, 0.1)", true],
                ["Êç°Ëµ∑Êù•Ôºü", 0, 2000, "#ff4757", "rgba(255, 71, 87, 0.2)", true],
                ["„Äç", 0, 0, "#7f8c8d", "transparent", false],
                ["##", 0, 0, "transparent", "transparent", false],

                ["Êàë", 600, 500, "#ff6b6b", "rgba(255, 107, 107, 0.1)", true],
                ["Âú®", 200, 300, "#dcdde1", "transparent", true],
                ["Ê¢¶Èáå", 300, 800, "#70a1ff", "rgba(112, 161, 255, 0.1)", true],
                ["##", 0, 0, "transparent", "transparent", false],
                ["‰ªÄ‰πà", 0, 200, "#400dcdde1", "transparent", true],
                ["ÈÉΩ", 0, 300, "#dcdde1", "transparent", true],
                ["‰∏çÊòéÁôΩ", 0, 1000, "#ffd700", "rgba(255, 215, 0, 0.1)", true],
                ["Ôºå", 0, 0, "#95a5a6", "transparent", false],
                ["##", 0, 0, "transparent", "transparent", false],
                ["‰∏ç", 200, 300, "#ff6b6b", "rgba(255, 107, 107, 0.1)", true],
                ["Áü•ÈÅì", 300, 500, "#70a1ff", "rgba(112, 161, 255, 0.1)", true],
                ["ËØ•", 0, 300, "#dcdde1", "transparent", true],
                ["ÊÄé‰πà", 0, 600, "#dcdde1", "transparent", true],
                ["ÂõûÁ≠î", 0, 1200, "#ffd700", "rgba(255, 215, 0, 0.1)", true],
                ["Ôºå", 0, 0, "#95a5a6", "transparent", false],
                ["##", 0, 0, "transparent", "transparent", false],

                ["‰ΩÜ", 800, 400, "#dcdde1", "transparent", true],
                ["‰∏ç", 200, 300, "#ff6b6b", "rgba(255, 107, 107, 0.1)", true],
                ["Áü•ÈÅì", 300, 500, "#70a1ff", "rgba(112, 161, 255, 0.1)", true],
                ["ÊòØ", 0, 400, "#dcdde1", "transparent", true],
                ["Ë∞Å", 0, 600, "#ffd700", "rgba(255, 215, 0, 0.1)", true],
                ["ËØ¥Ôºö", 300, 800, "#2c3e50", "rgba(44, 62, 80, 0.1)", true],
                ["##", 0, 0, "transparent", "transparent", false],
                ["„Äå", 0, 0, "#7f8c8d", "transparent", false],
                ["Ëøô‰πàÂ§ö", 500, 800, "#ffd700", "rgba(255, 215, 0, 0.1)", true],
                ["ËÉΩ", 200, 300, "#dcdde1", "transparent", true],
                ["ÂÖ®ÈÉ®", 0, 500, "#70a1ff", "rgba(112, 161, 255, 0.1)", true],
                ["Êç°Ëµ∑Êù•", 0, 1000, "#2ecc71", "rgba(46, 204, 113, 0.1)", true],
                ["ÂêóÔºü", 0, 2000, "#ff4757", "rgba(255, 71, 87, 0.2)", true],
                ["„Äç", 0, 0, "#7f8c8d", "transparent", false],
                ["##", 0, 0, "transparent", "transparent", false],

                ["Êàë", 500, 600, "#ff6b6b", "rgba(255, 107, 107, 0.1)", true],
                ["ÊÉ≥", 200, 400, "#dcdde1", "transparent", true],
                ["ÈöèÂ£∞", 300, 500, "#70a1ff", "rgba(112, 161, 255, 0.1)", true],
                ["ÈôÑÂíåÔºå", 0, 800, "#9b59b6", "rgba(155, 89, 182, 0.1)", true],
                ["##", 0, 0, "transparent", "transparent", false],
                ["ËØù", 800, 400, "#ffd700", "rgba(255, 215, 0, 0.1)", true],
                ["Âà∞", 200, 300, "#dcdde1", "transparent", true],
                ["Âò¥Ëæπ", 300, 800, "#70a1ff", "rgba(112, 161, 255, 0.1)", true],
                ["##", 0, 0, "transparent", "transparent", false],
                ["Âèà", 300, 400, "#ff6b6b", "rgba(255, 107, 107, 0.1)", true],
                ["Ê≤°Êúâ", 0, 500, "#dcdde1", "transparent", true],
                ["ËØ¥", 0, 600, "#ffd700", "rgba(255, 215, 0, 0.1)", true],
                ["Âá∫Âè£", 0, 1500, "#2ecc71", "rgba(46, 204, 113,.1)", true],
                ["...", 0, 0, "#95a5a6", "transparent", false],
                ["##", 0, 0, "transparent", "transparent", false],

                ["Âú®", 1000, 300, "#dcdde1", "transparent", true],
                ["Ê¢¶Èáå", 0, 600, "#70a1ff", "rgba(112, 161, 255, 0.1)", true],
                ["Êàë", 200, 400, "#ff6b6b", "rgba(255, 107, 107, 0.1)", true],
                ["ÁúãËßÅ", 300, 800, "#9b6", "rgba(155, 89, 182, 0.1)", true],
                ["Â•π", 0, 500, "#e67e22", "rgba(230, 126, 34, 0.1)", true],
                ["Âì≠‰∫Ü", 0, 1200, "#ff4757", "rgba(255, 71, 87, 0.2)", true],
                ["Ôºå", 0, 0, "#95a5a6", "transparent", false],
                ["##", 0, 0, "transparent", "transparent", false],
                ["Âì≠Âæó", 500, 600, "#ff6b6b", "rgba(255, 107, 107, 0.1)", true],
                ["Âæà", 200, 300, "#dcdde1", "transparent", true],
                ["‰º§ÂøÉ", 0, 2500, "#ff4757", "rgba(255, 71, 87, 0.3)", true],
                ["„ÄÇ", 0, 0, "#95a5a6", "transparent", false],
                ["##", 0, 0, "transparent", "transparent", false],

                ["Êàë", 600, 500, "#ff6b6b", "rgba(255, 107, 107, 0.1)", true],
                ["Âú®", 200, 300, "#dcdde1", "transparent", true],
                ["Ê¢¶Èáå", 0, 800, "#70a1ff", "rgba(112, 161, 255, 0.1)", true],
                ["##", 0, 0, "transparent", "transparent", false],
                ["ÊºÇÊ≥ä‰∫Ü", 300, 600, "#9b59b6", "rgba(155, 89, 182, 0.1)", true],
                ["Â•Ω‰πÖ", 0, 1500, "#2ecc71", "rgba(46, 204, 113, 0.1)", true],
                ["Ôºå", 0, 0, "#95a5a6", "transparent", false],
                ["##", 0, 0, "transparent", "transparent", false],
                ["ÁúãËßÅ", 300, 500, "#9b59b6", "rgba(155, 89, 182, 0.1)", true],
                ["‰∏Ä‰∏™", 200, 400, "#dcdde1", "transparent", true],
                ["Âèà", 300, 300, "#ff6b6b", "rgba(255, 107, 107, 0.1)", true],
                ["‰∏Ä‰∏™ÁöÑ", 0, 800, "#70a1ff", "rgba(112, 161, 255, 0.1)", true],
                ["Ë∑ØÂè£", 0, 3000, "#2c3e50", "rgba(44, 62, 80, 0.2)", true],
                ["„ÄÇ", 0, 0, "#95a5a6", "transparent", false]
            ],
            themeColor: "#3498db",
            autoPlay: true
        },
        {
            title: "ÊïëËµé",
            music: "/musics/Êó∂Èó¥ÊòØ‰∏™Â∞èÂÅ∑-Âº†Èí∞Âûö.mp3",
            words: [
                ["##", 0, 0, "", "", false],
                ["ÂàöÂºÄÂßã", 500, 1100, "#2c3e50", "rgba(44,62,80,0.1)", false],
                ["ÊàëÂú®‰Ω†Ë∫´‰∏äÔºå", 300, 1700, "#9b59b6", "rgba(155,89,182,0.15)", true],
                ["ÁúãÂà∞‰∫ÜÁúüËØö„ÄÇ", 800, 2300, "#2ecc71", "rgba(46,204,113,0.2)", true],

                ["##", 0, 0, "", "", false],
                ["ÊâÄ‰ª•", 200, 900, "#2c3e50", "rgba(44,62,80,0.1)", false],
                ["ÊàëÂç∏‰∏ã‰∫ÜÈò≤Â§áÔºå", 400, 1300, "#e74c3c", "rgba(231,76,60,0.15)", true],
                ["Â∏¶ÁùÄÁúüËØöÔºå", 600, 1600, "#2ecc71", "rgba(46,204,113,0.2)", true],
                ["ÊÖ¢ÊÖ¢Âú∞", 300, 1100, "#3498db", "rgba(52,152,219,0.15)", false],
                ["Èù†Ëøë‰Ω†„ÄÇ", 800, 1900, "#9b59b6", "rgba(155,89,182,0.15)", true],

                ["##", 0, 0, "", "", false],
                ["ÊàëÁªèÂ∏∏", 500, 1200, "#2c3e50", "rgba(44,62,80,0.1)", false],
                ["‰ª•‰∏∫Êàë‰ª¨‰ºö", 300, 1500, "#3498db", "rgba(52,152,219,0.15)", true],
                ["Ëµ∞ÂæóÂæà‰πÖÔºå", 600, 1800, "#9b59b6", "rgba(155,89,182,0.15)", true],
                ["ÁîöËá≥ÊòØ", 200, 900, "#2ecc71", "rgba(46,204,113,0.2)", false],
                ["‰∏ÄËæàÂ≠ê„ÄÇ", 800, 2100, "#e74c3c", "rgba(231,76,60,0.15)", true],

                ["##", 0, 0, "", "", false],
                ["ÂèØÁé∞Âú®", 500, 1300, "#2c3e50", "rgba(44,62,80,0.1)", false],
                ["ÊàëÂú®Ë∫´‰∏ä", 300, 1100, "#9b59b6", "rgba(155,89,182,0.15)", true],
                ["ÁúãÂà∞‰∫Ü", 200, 900, "#3498db", "rgba(52,152,219,0.15)", false],
                ["„ÄåÊïôËÆ≠„Äç", 800, 900, "#e74c3c", "rgba(231,76,60,0.15)", true],
                ["„ÄÇ", 100, 300, "transparent", "transparent", false],

                ["##", 0, 0, "", "", false],
                ["ÊÄªËßâÂæó", 500, 1100, "#2c3e50", "rgba(44,62,80,0.1)", false],
                ["‰∏çÂ∫îËØ•ÊòØ", 300, 1300, "#e74c3c", "rgba(231,76,60,0.15)", true],
                ["ËøôÊ†∑ÁöÑÁªìÂ±ÄÔºå", 600, 1700, "#9b59b6", "rgba(155,89,182,0.15)", true],
                ["‰ΩÜÂ•ΩÂÉè", 200, 900, "#2c3e50", "rgba(44,62,80,0.1)", false],
                ["Âú®Ëá™Â∑±ÁöÑ", 400, 1200, "#3498db", "rgba(52,152,219,0.15)", true],
                ["ÊÑèÊñô‰πã‰∏≠„ÄÇ", 800, 2100, "#9b59b6", "rgba(155,89,182,0.15)", true],

                ["##", 0, 0, "", "", false],
                ["‰πüËÆ∏Êàë", 500, 1100, "#2c3e50", "rgba(44,62,80,0.1)", false],
                ["ÊõæÂ§±Âéª‰∫Ü", 300, 1300, "#e74c3c", "rgba(231,76,60,0.15)", true],
                ["Ëá™Â∑±Ôºå", 600, 900, "#9b59b6", "rgba(155,89,182,0.15)", false],
                ["ÂøòËÆ∞‰∫Ü", 200, 1100, "#3498db", "rgba(52,152,219,0.15)", true],
                ["Ëá™Â∑±ÁúüÊ≠£ÁöÑ", 400, 1400, "#2ecc71", "rgba(46,204,113,0.2)", false],
                ["Ê†∑Â≠êÔºå", 800, 1600, "#9b59b6", "rgba(155,89,182,0.15)", true],
                ["Êàë‰∏ÄÁõ¥", 300, 1200, "#2c3e50", "rgba(44,62,80,0.1)", false],
                ["Âú®ÊïëËµé", 600, 1700, "#9b59b6", "rgba(155,89,182,0.15)", true],
                ["Ëá™Â∑±Ôºå", 200, 900, "#e74c3c", "rgba(231,76,60,0.15)", false],
                ["‰∏çÊñ≠ÁöÑ", 400, 1300, "#3498db", "rgba(52,152,219,0.15)", true],
                ["Âπ≥Ë°°", 300, 1100, "#2ecc71", "rgba(46,204,113,0.2)", false],
                ["Ëá™Â∑±„ÄÇ", 800, 1900, "#9b59b6", "rgba(155,89,182,0.15)", true]
            ],
            themeColor: "#9b59b6",
            autoPlay: true
        }
    ];

    let currentDataset = null;
    let currentIndex = 0;
    let currentListIndex = 0;
    let isPlaying = false;
    const elements = {
        container: document.getElementById('container'),
        startBtn: document.getElementById('startBtn'),
        stopBtn: document.getElementById('stopBtn'),
        musicBtn: document.getElementById('musicBtn'),
        bgm: document.getElementById('bgm'),
        dataPanel: document.getElementById('data-panel')
    };

    function initDataPanel() {
        const fragment = document.createDocumentFragment();
        staticData.forEach((dataset, index) => {
            const item = document.createElement('div');
            item.className = 'data-item';

            const title = document.createElement('h3');
            title.style.margin = '0';
            title.style.color = dataset.themeColor;
            title.textContent = dataset.title;

            const sub = document.createElement('small');
            sub.style.opacity = '0.7';
            sub.textContent = dataset.words.length + '‰∏™ÂÖÉÁ¥†';

            item.appendChild(title);
            item.appendChild(sub);
            item.dataset.index = index;

            item.addEventListener('click', () => loadDataset(index));
            fragment.appendChild(item);
        });
        elements.dataPanel.appendChild(fragment);
        loadDataset(0);
    }

    async function loadDataset(index) {
        currentListIndex = index;
        document.querySelectorAll('.data-item').forEach(item =>
            item.classList.remove('active'));
        elements.dataPanel.children[index].classList.add('active');

        resetSystem();
        currentDataset = staticData[index];
        elements.bgm.src = currentDataset.music;
        elements.container.innerHTML = '';
        currentIndex = 0;

        document.documentElement.style.setProperty('--glow-color',
            currentDataset.themeColor + '40');

        if (currentDataset.autoPlay) await startAnimation();
    }

    async function createElement(config) {
        const [text, delay, duration, color] = config;
        if (text === '##') {
            const br = document.createElement('div');
            br.className = 'line-break';
            elements.container.appendChild(br);
            return;
        }

        const elem = document.createElement('div');
        elem.className = 'word-item';
        elem.textContent = text;
        elem.style.color = color;

        await new Promise(r => setTimeout(r, delay));
        elements.container.appendChild(elem);
        elem.style.opacity = '1';
        await new Promise(r => setTimeout(r, duration));
    }

    async function startAnimation() {
        if (isPlaying || !currentDataset) return;
        isPlaying = true;
        elements.startBtn.disabled = true;

        try {
            await elements.bgm.play();
            document.body.classList.add('playing');
        } catch (e) {
            alert('ËØ∑ÁÇπÂáªÈ°µÈù¢ÊøÄÊ¥ªÈü≥È¢ëÊí≠Êîæ');
        }

        while (currentIndex < currentDataset.words.length && isPlaying) {
            await createElement(currentDataset.words[currentIndex++]);
        }
        isPlaying = false;
        elements.startBtn.disabled = false;

        // currentListIndex++;
        // if(currentListIndex>=staticData.length)currentListIndex=0;
        // //Á≠âÂæÖ5sÂêéËá™Âä®ÂàáÊç¢‰∏ã‰∏ÄÈõÜ
        // const flag=setTimeout(() => {
        //     clearTimeout(flag);
        //     loadDataset(currentListIndex);
        // }, 5000);
    }

    function resetSystem() {
        isPlaying = false;
        elements.bgm.pause();
        elements.bgm.currentTime = 0;
        elements.container.innerHTML = '';
        document.body.classList.remove('playing');
    }

    // document.getElementById('panel-toggle').addEventListener('click', () => {
    //     elements.dataPanel.classList.toggle('active');
    // });

    elements.startBtn.addEventListener('click', startAnimation);
    elements.stopBtn.addEventListener('click', resetSystem);
    elements.musicBtn.addEventListener('click', () => {
        if (elements.bgm.paused) elements.bgm.play();
        else elements.bgm.pause();
    });
    initDataPanel();
</script>
</body>
</html>
